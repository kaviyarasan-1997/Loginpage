<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>High-quality Form Example</title>

  <!-- Basic, modern styles (no external frameworks) -->
  <style>
    :root{
      --bg: #0f172a;
      --card: #0b1220;
      --muted: #94a3b8;
      --accent: #06b6d4;
      --radius: 12px;
      --max-width: 860px;
      --input-height: 48px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      padding:32px;
      background: linear-gradient(180deg,#071022 0%, #07112a 100%);
      color:#e6eef6;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      font-size:16px;
      line-height:1.45;
    }

    .container{
      width:100%;
      max-width:var(--max-width);
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: var(--radius);
      padding:28px;
      box-shadow: 0 6px 30px rgba(2,6,23,0.7);
      border: 1px solid rgba(255,255,255,0.03);
    }

    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 20px;color:var(--muted)}

    form.grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:16px;
      align-items:start;
    }

    /* Make single-column on small screens */
    @media (max-width:720px){
      form.grid{grid-template-columns: 1fr;}
    }

    label{
      display:block;
      font-size:13px;
      color: #cde7ef;
      margin-bottom:6px;
    }

    .field{
      background: rgba(255,255,255,0.02);
      padding:12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.03);
    }

    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="tel"],
    input[type="date"],
    select,
    textarea {
      width:100%;
      height: var(--input-height);
      padding:10px 12px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.06);
      background:transparent;
      color:inherit;
      font-size:15px;
      outline: none;
      transition: box-shadow .15s, border-color .12s;
    }

    textarea{height:120px; resize:vertical; padding-top:10px}
    input:focus, select:focus, textarea:focus{
      box-shadow: 0 4px 18px rgba(6,182,212,0.08);
      border-color: var(--accent);
    }

    .full{grid-column:1 / -1}
    .muted{color:var(--muted); font-size:13px}

    .row{display:flex; gap:12px}
    .small{flex:1 1 0; min-width:0}
    .actions{
      display:flex;
      gap:12px;
      justify-content:flex-end;
      align-items:center;
      margin-top:8px;
      grid-column:1 / -1;
    }

    button{
      height:44px;
      padding:0 20px;
      border-radius:10px;
      border:0;
      background:var(--accent);
      color:#042027;
      font-weight:600;
      cursor:pointer;
    }

    button.ghost{
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(255,255,255,0.03);
    }

    .hint{font-size:13px;color:var(--muted);margin-top:6px}
    .error{color:#ffb4b4;font-size:13px;margin-top:6px}
    .success{color:#b7f6e0;font-size:13px;margin-top:6px}

    /* Password strength bar */
    .pw-meter{
      height:8px;
      background: rgba(255,255,255,0.04);
      border-radius:6px;
      overflow:hidden;
      margin-top:8px;
    }
    .pw-meter > i{
      display:block;
      height:100%;
      width:0%;
      background:linear-gradient(90deg,#ff7a7a,#ffd36b);
      transition: width .25s ease;
    }

    /* File preview */
    .file-preview{display:flex;gap:12px;align-items:center;margin-top:8px}
    .thumb{
      width:56px;height:56px;border-radius:8px;background:#08121b;border:1px solid rgba(255,255,255,0.03);
      display:flex;align-items:center;justify-content:center;overflow:hidden;font-size:12px;color:var(--muted)
    }

    /* small text under inputs */
    .note{font-size:12px;color:var(--muted);margin-top:6px}

    /* visually-hidden for accessibility */
    .sr-only{
      position:absolute!important;
      width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;
    }
  </style>
</head>
<body>
  <main class="container" role="main" aria-labelledby="form-title">
    <h1 id="form-title">Sign Up — Example High-quality Form</h1>
    <p class="lead">Well-structured, accessible form with client-side checks and progressive enhancement.</p>

    <!-- The form uses method & action so it works without JS (progressive enhancement). -->
    <form id="signupForm" class="grid" method="post" action="/submit" enctype="multipart/form-data" novalidate>
      <!-- CSRF token placeholder for servers that need it -->
      <input type="hidden" name="csrf_token" value="__CSRF_TOKEN_PLACEHOLDER__" />

      <!-- Honeypot (hidden) to trap bots -->
      <label class="sr-only" for="website">Leave this field blank</label>
      <input id="website" name="website" class="sr-only" autocomplete="off" tabindex="-1" aria-hidden="true" />

      <div>
        <label for="firstName">First name</label>
        <div class="field">
          <input id="firstName" name="firstName" type="text" autocomplete="given-name" required maxlength="60" placeholder="Aadhavan" />
          <div class="note">Required. Max 60 characters.</div>
        </div>
      </div>

      <div>
        <label for="lastName">Last name</label>
        <div class="field">
          <input id="lastName" name="lastName" type="text" autocomplete="family-name" required maxlength="60" placeholder="Raman" />
        </div>
      </div>

      <div>
        <label for="email">Email</label>
        <div class="field">
          <input id="email" name="email" type="email" autocomplete="email" required placeholder="name@example.com" />
          <div id="emailError" class="error" aria-live="polite" hidden></div>
        </div>
      </div>

      <div>
        <label for="phone">Phone</label>
        <div class="field">
          <input id="phone" name="phone" type="tel" inputmode="tel" placeholder="+91 98765 43210" pattern="^\+?[0-9\s\-().]{7,}$" />
          <div class="note">Optional — include country code for best results.</div>
        </div>
      </div>

      <div class="full">
        <label for="role">Role</label>
        <div class="field">
          <select id="role" name="role" required aria-describedby="roleHelp">
            <option value="">Choose your role</option>
            <option>Developer</option>
            <option>Designer</option>
            <option>Product</option>
            <option>Other</option>
          </select>
          <div id="roleHelp" class="note">This helps us tailor content for you.</div>
        </div>
      </div>

      <div>
        <label for="password">Password</label>
        <div class="field">
          <input id="password" name="password" type="password" autocomplete="new-password" minlength="8" required placeholder="Create a strong password" aria-describedby="pwNote" />
          <div class="pw-meter" aria-hidden="true"><i id="pwBar"></i></div>
          <div id="pwNote" class="note">Min 8 characters. Use a mix of uppercase, lowercase, numbers and symbols.</div>
        </div>
      </div>

      <div>
        <label for="confirmPassword">Confirm password</label>
        <div class="field">
          <input id="confirmPassword" name="confirmPassword" type="password" autocomplete="new-password" required placeholder="Repeat password" />
          <div id="confirmError" class="error" aria-live="polite" hidden></div>
        </div>
      </div>

      <div class="full">
        <label for="about">About you</label>
        <div class="field">
          <textarea id="about" name="about" maxlength="800" placeholder="Brief intro (optional)"></textarea>
          <div class="note">Optional — up to 800 characters.</div>
        </div>
      </div>

      <div>
        <label for="avatar">Profile photo</label>
        <div class="field">
          <input id="avatar" name="avatar" type="file" accept="image/*" />
          <div class="file-preview" id="filePreview" aria-hidden="true" hidden>
            <div class="thumb" id="thumb">Preview</div>
            <div class="muted" id="fileMeta"></div>
          </div>
        </div>
      </div>

      <div>
        <label for="start">Available from</label>
        <div class="field">
          <input id="start" name="start" type="date" />
          <div class="note">Optional: select a date you can start.</div>
        </div>
      </div>

      <div class="full">
        <label for="terms" class="muted">Terms and newsletter</label>
        <div class="row" style="margin-top:8px">
          <label style="display:flex;align-items:center;gap:8px">
            <input id="terms" name="terms" type="checkbox" required />
            <span>I agree to the <a href="#" style="color:var(--accent)">terms</a>.</span>
          </label>

          <label style="display:flex;align-items:center;gap:8px">
            <input id="newsletter" name="newsletter" type="checkbox" />
            <span>Send me occasional product updates</span>
          </label>
        </div>
      </div>

      <!-- action buttons -->
      <div class="actions">
        <button type="button" class="ghost" id="resetBtn">Reset</button>
        <button type="submit" id="submitBtn">Create account</button>
      </div>

      <!-- result area -->
      <div id="result" class="full" aria-live="polite" hidden></div>
    </form>
  </main>

  <!-- JavaScript: validation, password meter, file preview, graceful fetch() submit -->
  <script>
    (function () {
      const form = document.getElementById('signupForm');
      const email = document.getElementById('email');
      const emailError = document.getElementById('emailError');
      const password = document.getElementById('password');
      const confirm = document.getElementById('confirmPassword');
      const confirmError = document.getElementById('confirmError');
      const pwBar = document.getElementById('pwBar');
      const avatar = document.getElementById('avatar');
      const filePreview = document.getElementById('filePreview');
      const thumb = document.getElementById('thumb');
      const fileMeta = document.getElementById('fileMeta');
      const result = document.getElementById('result');
      const resetBtn = document.getElementById('resetBtn');
      const honeypot = document.getElementById('website');

      // simple email check (extra client validation)
      function validateEmail() {
        if(!email.value) {
          emailError.textContent = '';
          emailError.hidden = true;
          return true;
        }
        const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value);
        emailError.textContent = ok ? '' : 'Please enter a valid email address';
        emailError.hidden = ok;
        return ok;
      }

      email.addEventListener('input', validateEmail);

      // password strength: score 0-4
      function scorePassword(pw) {
        let score = 0;
        if(!pw) return 0;
        if(pw.length >= 8) score++;
        if(/[a-z]/.test(pw) && /[A-Z]/.test(pw)) score++;
        if(/\d/.test(pw)) score++;
        if(/[\W_]/.test(pw)) score++;
        return score;
      }

      function updatePwMeter() {
        const s = scorePassword(password.value);
        pwBar.style.width = (s/4 * 100) + '%';
      }

      password.addEventListener('input', () => {
        updatePwMeter();
        checkPasswordMatch();
      });

      function checkPasswordMatch() {
        if(!confirm.value) {
          confirmError.textContent = '';
          confirmError.hidden = true;
          return true;
        }
        const ok = password.value === confirm.value;
        confirmError.textContent = ok ? '' : 'Passwords do not match';
        confirmError.hidden = ok;
        return ok;
      }
      confirm.addEventListener('input', checkPasswordMatch);

      // file preview (image)
      avatar.addEventListener('change', (e) => {
        const f = e.target.files && e.target.files[0];
        if(!f){ filePreview.hidden = true; filePreview.setAttribute('aria-hidden','true'); return; }
        filePreview.hidden = false;
        filePreview.removeAttribute('aria-hidden');
        fileMeta.textContent = `${f.name} • ${Math.round(f.size/1024)} KB`;
        // show small thumbnail for images
        if(f.type.startsWith('image/')){
          const reader = new FileReader();
          reader.onload = () => {
            thumb.style.backgroundImage = `url(${reader.result})`;
            thumb.style.backgroundSize = 'cover';
            thumb.textContent = '';
          };
          reader.readAsDataURL(f);
        } else {
          thumb.style.backgroundImage = '';
          thumb.textContent = 'File';
        }
      });

      // reset button
      resetBtn.addEventListener('click', () => {
        form.reset();
        filePreview.hidden = true;
        pwBar.style.width = '0%';
        emailError.hidden = true;
        confirmError.hidden = true;
        result.hidden = true;
      });

      // graceful submit: use Fetch but fall back to native form post if fetch unsupported
      form.addEventListener('submit', async function (ev) {
        ev.preventDefault();

        // honeypot check: if filled, abort silently
        if(honeypot && honeypot.value.trim() !== '') {
          console.warn('Honeypot filled — likely bot. Aborting.');
          return;
        }

        // standard HTML constraint validation
        if(!form.checkValidity()) {
          // Let browser show built-in validation messages
          form.reportValidity();
          return;
        }

        // extra checks
        if(!validateEmail() || !checkPasswordMatch()){
          return;
        }

        // build FormData for multipart (includes files)
        const fd = new FormData(form);

        // disable submit while working
        const submitBtn = document.getElementById('submitBtn');
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
        result.hidden = true;

        try {
          // Example: use fetch to POST to server endpoint
          const resp = await fetch(form.action, {
            method: form.method.toUpperCase(),
            body: fd,
            headers: {
              // Do not set Content-Type for multipart/form-data — browser sets boundary
              'X-Requested-With': 'XMLHttpRequest'
            }
          });

          // handle response (assumes JSON)
          if(!resp.ok){
            const text = await resp.text();
            throw new Error(`Server error: ${resp.status} ${text}`);
          }

          const json = await resp.json().catch(()=>({ok:true,msg:'Submitted (no JSON returned)'}));
          result.className = 'success';
          result.textContent = json.msg || 'Form submitted successfully.';
          result.hidden = false;

          // optionally reset on success
          // form.reset();
        } catch (err) {
          result.className = 'error';
          result.textContent = 'Submission failed: ' + err.message;
          result.hidden = false;
          console.error(err);
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = 'Create account';
        }
      });
    })();
  </script>
</body>
</html>
